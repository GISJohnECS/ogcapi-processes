[[Job_collection]]
== Requirement Class "Job collection"

This requirement class specifies how to retrieve a job collection from the API.

==== Operation

include::requirements/core/REQ_job-collection-op.adoc[]

==== Response

include::requirements/core/REQ_job-collection-success.adoc[]

.link:https://raw.githubusercontent.com/opengeospatial/wps-rest-binding/master/core/openapi/schemas/jobCollection.yaml[Schema for the job collection]
[source,YAML]
----
    type: array
    items:
      $ref: 'jobInfo.yaml'
----

.Example of HTTP GET request for retrieving the list of jobs of a process encoded as JSON.
[source]
----
http://processing.example.org/processes/EchoProcess/jobs
----

.Example of a job list encoded as JSON.
[source,json]
----
[
	{
		"jobID": "8ca109b4-3b86-4a9c-a284-a6d50f91019e",
		"status": "running",
		"message": "Perform step 1/2",
		"progress": 50,
		"links": [
			{
				"href": "http://processing.example.org/processes/EchoProcess//jobs/8ca109b4-3b86-4a9c-a284-a6d50f91019e",
				"rel": "status",
				"type": "application/json",
				"hreflang": "en",
				"title": "Job status"
			}
		]
	},
	{
		"id": "0cf773a5-282a-4e23-96cc-f5dab18123e5",
		"infos": {
			"jobID": "0cf773a5-282a-4e23-96cc-f5dab18123e5",
			"status": "successful",
			"message": "EchoProcess job finished successful",
			"progress": 100,
			"links": [
				{
					"href": "http://processing.example.org/processes/EchoProcess/jobs/0cf773a5-282a-4e23-96cc-f5dab18123e5",
					"rel": "status",
					"type": "application/json",
					"hreflang": "en",
					"title": "Job status"
				},
				{
					"href": "http://processing.example.org/processes/EchoProcess/jobs/0cf773a5-282a-4e23-96cc-f5dab18123e5/results",
					"rel": "results",
					"type": "application/json",
					"hreflang": "en",
					"title": "Job result"
				}
			]
		}
	},
	{
		"id": "63aadd9c-c0e5-4a7f-80f0-228dbb158f09",
		"infos": {
			"jobID": "63aadd9c-c0e5-4a7f-80f0-228dbb158f09",
			"status": "failed",
			"message": "EchoProcess job failed",
			"progress": 100,
			"links": [
				{
					"href": "http://processing.example.org/processes/EchoProcess/jobs/63aadd9c-c0e5-4a7f-80f0-228dbb158f09",
					"rel": "status",
					"type": "application/json",
					"hreflang": "en",
					"title": "Job status"
				},
				{
					"href": "http://processing.example.org/processes/EchoProcess/jobs/63aadd9c-c0e5-4a7f-80f0-228dbb158f09/results",
					"rel": "exceptions",
					"type": "application/json",
					"hreflang": "en",
					"title": "Job exception"
				}
			]
		}
	}
]
----

==== Error situations

See <<http_status_codes>> for general guidance.

If the process with the specified identifier doesn't exist on the server, the status code of the response will be `404` (see <<rc_no-such-process>>).